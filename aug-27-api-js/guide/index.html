<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript & APIs: Fetching Data</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        body { 
            font-family: 'Comic Sans MS', 'Segoe UI', sans-serif; 
            margin: 30px;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f8ff;
        }
        h1, h2, h3 { 
            color: #1565c0; 
            border-bottom: 2px solid #42a5f5;
            padding-bottom: 5px;
        }
        h4 {
            color: #1976d2;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .diagram { 
            margin: 30px 0; 
            text-align: center;
        }
        .diagram svg { 
            background: #f8fbff; 
            border-radius: 10px;
            border: 1px solid #ccc; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 100%;
            height: auto;
        }
        .analogy {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
        }
        .analogy-title {
            font-weight: bold;
            color: #0d47a1;
            margin-bottom: 5px;
        }
        .code-example {
            background: #f5f5f5;
            border-left: 4px solid #42a5f5;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
            overflow-x: auto;
            padding: 15px;
        }
        .code-example code {
            font-family: Consolas, 'Courier New', monospace;
            font-size: 0.9em;
            color: #333;
        }
        .line-numbers .line-numbers-rows {
            padding-top: 15px;
            border-right: 1px solid #ddd;
        }
        pre[class*="language-"].line-numbers {
            padding-left: 3.8em;
        }
        .highlight {
            background: #fff9c4;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: Consolas, 'Courier New', monospace;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .elements-section { background: #e8f5e9; border-left: 4px solid #4caf50; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .structure-section { background: #fff3e0; border-left: 4px solid #ff9800; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .semantic-section { background: #f3e5f5; border-left: 4px solid #9c27b0; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .attributes-section { background: #e1f5fe; border-left: 4px solid #03a9f4; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .comparison {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        .comparison-box {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            min-width: 280px;
        }
        .bad-example { background: #ffebee; border: 1px solid #ef9a9a; }
        .good-example { background: #e8f5e9; border: 1px solid #a5d6a7; }
        .mindblown {
            background: #ffebee;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #f44336;
            text-align: center;
        }
        .step-by-step {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #6c757d;
        }
        .tags-demo {
            background: #e0f7fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #00bcd4;
        }
        dl dt {
            font-weight: bold;
            color: #1565c0;
        }
        dl dd {
            margin-left: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<h1>Let's Fetch Some Data! An Intro to APIs üåê</h1>

<div class="container">
  <h2>What in the World is an API?</h2>
  <p>
    You've probably heard the term <strong>API (Application Programming Interface)</strong>, but it can sound intimidating! In simple terms, an API is just a way for different computer programs to talk to each other. It defines the rules for how you should ask for information and what you'll get back.
  </p>
  
  <div class="analogy">
    <div class="analogy-title">üí° Analogy: The Restaurant Waiter</div>
    <p>
      An API is like a waiter in a restaurant.
      <ul>
        <li>You (the client/your webpage) don't go directly into the kitchen (the server/database) to get your food.</li>
        <li>Instead, you give your order to the waiter (the API) using a specific format from the menu (the API documentation).</li>
        <li>The waiter takes your request to the kitchen, which prepares your food (the data).</li>
        <li>The waiter then brings the food back to you.</li>
      </ul>
      The API is the friendly intermediary that handles the communication between you and the server.
    </p>
    
  </div>
</div>

<hr>

<div class="container">
  <h2>The Language of APIs: JSON</h2>
  <p>
    When the waiter brings your data, it needs to be in a format that you can easily understand. The most common format for web APIs is <strong>JSON (JavaScript Object Notation)</strong>. It looks almost identical to a JavaScript object, but it's actually a plain string of text.
  </p>

  <div class="comparison">
    <div class="comparison-box bad-example">
        <h4>üß† JavaScript Object</h4>
        <p>This is a data type that lives inside your JavaScript code. You can directly access its properties with dot notation.</p>
        <pre class="code-example"><code class="language-javascript">
const user = {
  name: "Alex",
  isStudent: true,
  courses: ["Math", "History"]
};

console.log(user.name); // "Alex"
        </code></pre>
    </div>
    <div class="comparison-box good-example">
        <h4>üìÑ JSON String</h4>
        <p>This is plain text. Notice the double quotes around the keys. To use it in JavaScript, you must first "parse" it into a real JavaScript object.</p>
        <pre class="code-example"><code class="language-javascript">
const userJSON = `{
  "name": "Alex",
  "isStudent": true,
  "courses": ["Math", "History"]
}`;

// You can't do userJSON.name
// You have to parse it first!
        </code></pre>
    </div>
  </div>
</div>

<hr>

<div class="container">
  <h2>Meet the Fetch API: Your Data Messenger üì¶</h2>
  <p>
    So how do we actually ask the waiter for data? In modern JavaScript, we use the <strong>Fetch API</strong>. It's a built-in browser feature that lets us make network requests to APIs. The most important thing to know about <code class="highlight">fetch()</code> is that it's <strong>asynchronous</strong>.
  </p>

    <div class="analogy">
    <div class="analogy-title">üí° Analogy: Ordering a Package Online</div>
    <p>
      Using `fetch()` is like ordering a package. You place the order, but you don't just stop everything and stare at the door until it arrives. You go on with your life, and when the package is delivered, you handle it. `fetch()` works the same way; it returns a **Promise**‚Äîa placeholder for a value that will arrive in the future.
    </p>
  </div>
  
  <p>We handle this "future value" using special methods called <code class="highlight">.then()</code> and <code class="highlight">.catch()</code>.</p>

  <div class="step-by-step">
    <h4>The Fetch Promise Chain</h4>
    <dl>
      <dt><code class="highlight">fetch(url)</code></dt>
      <dd>You start by calling <code class="highlight">fetch</code> with the URL of the API you want to get data from. This sends the request and returns a Promise.</dd>

      <dt><code class="highlight">.then(response => response.json())</code></dt>
      <dd>The first <code class="highlight">.then()</code> block runs if the request is successful. The <code class="highlight">response</code> object isn't the data itself; it's the messenger. We need to call <code class="highlight">response.json()</code> to open the package and parse the JSON text into a real JavaScript object. This step also returns a Promise!</dd>
      
      <dt><code class="highlight">.then(data => { ... })</code></dt>
      <dd>The second <code class="highlight">.then()</code> block receives the actual data from the previous step. Now you can finally use it in your code!</dd>

      <dt><code class="highlight">.catch(error => { ... })</code></dt>
      <dd>If anything goes wrong during the request (like a network error), the <code class="highlight">.catch()</code> block will run, allowing you to handle the error gracefully.</dd>
    </dl>
  </div>
</div>

<hr>

<div class="container">
    <h2>Let's Build It! A Random Dad Joke Fetcher</h2>
    <p>Time to put it all together! We'll make a simple app that fetches a random dad joke from a free API and displays it on the page when a button is clicked.</p>

    <h4>The HTML Structure</h4>
    <pre class="code-example line-numbers"><code class="language-html">
&lt;h2&gt;Random Dad Joke Generator&lt;/h2&gt;
&lt;button id="joke-button"&gt;Get a New Joke&lt;/button&gt;
&lt;div id="joke-display" style="margin-top: 20px; font-style: italic;"&gt;
  &lt;p&gt;Click the button to get a joke!&lt;/p&gt;
&lt;/div&gt;
    </code></pre>

    <h4>The Complete JavaScript Code</h4>
    <pre class="code-example line-numbers"><code class="language-javascript">
// 1. Get references to our HTML elements
const jokeButton = document.getElementById('joke-button');
const jokeDisplay = document.getElementById('joke-display');

// 2. Define the function that will fetch the joke
function getJoke() {
  // The URL of the API we want to get data from
  const apiUrl = 'https://icanhazdadjoke.com/';
  
  // Set a special header because this API requires it
  const headers = { 'Accept': 'application/json' };

  jokeDisplay.innerHTML = '&lt;p&gt;Loading...&lt;/p&gt;';

  // 3. Make the fetch request!
  fetch(apiUrl, { headers: headers })
    .then(response => {
      // First, check if the response was successful
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      // If it's okay, parse the JSON from the response
      return response.json();
    })
    .then(data => {
      // Now we have the actual data! Let's display the joke.
      console.log(data); // Look at the console to see the data object!
      jokeDisplay.innerHTML = `&lt;p&gt;"${data.joke}"&lt;/p&gt;`;
    })
    .catch(error => {
      // If any error occurred, we'll catch it here
      console.error('There was a problem with the fetch operation:', error);
      jokeDisplay.innerHTML = '&lt;p style="color: red;"&gt;Oops! Could not fetch a joke.&lt;/p&gt;';
    });
}

// 4. Add an event listener to the button
jokeButton.addEventListener('click', getJoke);
    </code></pre>
</div>


<hr>

<div class="mindblown">
    <h2>üß† AHA! Moment! ü§Ø</h2>
    <p>
      <strong>Request ‚û°Ô∏è Promise ‚û°Ô∏è Data.</strong><br>
      Using the Fetch API is a three-step dance: you make a <strong>request</strong>, you get a <strong>Promise</strong> that the data will arrive later, and then you use <code class="highlight">.then()</code> to work with the actual <strong>data</strong> once it's ready. This asynchronous pattern is the backbone of modern, interactive web applications that feel fast and responsive.
    </p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    // Initialize Prism to highlight the code blocks
    Prism.highlightAll();
</script>
</body>
</html>