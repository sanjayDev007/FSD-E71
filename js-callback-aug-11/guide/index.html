<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Functions Part 3: Arrow Functions & Callbacks ðŸš€</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        body { 
            font-family: 'Comic Sans MS', 'Segoe UI', sans-serif; 
            margin: 30px;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f8ff;
        }
        h1, h2, h3 { 
            color: #1565c0; 
            border-bottom: 2px solid #42a5f5;
            padding-bottom: 5px;
        }
        h4 {
            color: #1976d2;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .analogy {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
        }
        .analogy-title {
            font-weight: bold;
            color: #0d47a1;
            margin-bottom: 5px;
        }
        .code-example {
            background: #f5f5f5;
            border-left: 4px solid #42a5f5;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
            overflow-x: auto;
            padding: 15px;
        }
        .code-example code {
            font-family: Consolas, 'Courier New', monospace;
            font-size: 0.9em;
            color: #333;
        }
        .line-numbers .line-numbers-rows {
            padding-top: 15px;
            border-right: 1px solid #ddd;
        }
        pre[class*="language-"].line-numbers {
            padding-left: 3.8em;
        }
        .highlight {
            background: #fff9c4;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: Consolas, 'Courier New', monospace;
        }
        .comparison {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        .comparison-box {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            min-width: 280px;
        }
        .bad-example { background: #e1f5fe; border: 1px solid #4fc3f7; }
        .good-example { background: #e8f5e9; border: 1px solid #a5d6a7; }
        .mindblown {
            background: #ffebee;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #f44336;
            text-align: center;
        }
        .step-by-step {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #6c757d;
        }
        dl dt {
            font-weight: bold;
            color: #1565c0;
        }
        dl dd {
            margin-left: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<h1>JS Functions Part 3: Arrow Functions & Callbacks ðŸš€</h1>

<div class="container">
    <h2>Arrow Functions: A Cleaner Syntax</h2>
    <p>
        An <strong>arrow function</strong> is a compact alternative to a traditional function expression. It offers a shorter syntax, which makes your code cleaner and more readable, especially for functions that are simple or are used as arguments for other functions.
    </p>

    <div class="structure-section">
        <h4>From Traditional to Arrow</h4>
        <p>Let's see the transformation. We'll start with a classic function expression.</p>
        <pre class="code-example"><code class="language-javascript">// Traditional Function Expression
const square = function(x) {
  return x * x;
};</code></pre>
        <p>Now, let's convert it to an arrow function in a few steps:</p>
        <ol>
            <li>Remove the <code class="highlight">function</code> keyword.</li>
            <li>Add a "fat arrow" <code class="highlight">=></code> after the parameters.</li>
            <li>If the function body is a single expression, you can remove the curly braces <code class="highlight">{}</code> and the <code class="highlight">return</code> keyword. The result of the expression is returned automatically (this is called an "implicit return").</li>
        </ol>
        <pre class="code-example"><code class="language-javascript">// Arrow Function with Implicit Return
const squareArrow = x => x * x;

console.log(square(5));       // 25
console.log(squareArrow(5));  // 25
</code></pre>
        <p>Note: If you have more than one parameter, you need parentheses: <code class="highlight">(a, b) => a + b</code>. If you have no parameters, you use empty parentheses: <code class="highlight">() => "Hello"</code>.</p>
    </div>
</div>

<div class="container">
    <h2>Callbacks: "Call Me Back When You're Done"</h2>
    <p>
        A <strong>callback function</strong> is a function that you pass as an argument into another function. The outer function can then execute (or "call back") that function whenever it's ready.
    </p>
    <p>This is the foundation of <strong>asynchronous programming</strong> in JavaScript. We use callbacks to handle tasks that take time, like fetching data from a server, reading a file, or waiting for a timer to finish.</p>

    <div class="analogy">
        <div class="analogy-title">ðŸ“ž Analogy: Ordering a Pizza</div>
        <p>
            Imagine you call a pizza place. You give them your order (the arguments) and your phone number (the <strong>callback function</strong>). You don't just stand by the phone waiting; you go about your day.
        </p>
        <p>
            When the pizza is ready (the asynchronous task is complete), the delivery driver calls your number (the callback function is executed). The callback says, "The pizza is here, come get it!"
        </p>
    </div>

    <h4>A Classic Example: <code class="highlight">setTimeout</code></h4>
    <p><code class="highlight">setTimeout</code> is a built-in JavaScript function that waits for a specified time, then executes a callback function.</p>
    <pre class="code-example line-numbers"><code class="language-javascript">// The first argument is the callback function.
// The second argument is the delay in milliseconds (3000ms = 3s).

setTimeout(function() {
  // This function gets "called back" after 3 seconds.
  console.log("Your pizza is here!");
}, 3000);

console.log("I've ordered the pizza."); // This runs immediately!
</code></pre>
</div>

<div class="container">
    <h2>The Perfect Pair: Arrow Functions as Callbacks</h2>
    <p>Arrow functions make writing callbacks incredibly clean. Look how much neater the <code class="highlight">setTimeout</code> example becomes.</p>
    <div class="comparison">
        <div class="comparison-box bad-example">
            <h4>Before: Traditional Function</h4>
            <p>This is perfectly valid, but a bit wordy for such a simple action.</p>
            <pre class="code-example"><code class="language-javascript">const numbers = [1, 2, 3, 4];

const doubled = numbers.map(function(num) {
  return num * 2;
});

console.log(doubled); // [2, 4, 6, 8]
</code></pre>
        </div>
        <div class="comparison-box good-example">
            <h4>After: Arrow Function</h4>
            <p>This is concise, elegant, and much easier to read at a glance. It's the modern standard.</p>
            <pre class="code-example"><code class="language-javascript">const numbers = [1, 2, 3, 4];

const doubled = numbers.map(num => num * 2);

console.log(doubled); // [2, 4, 6, 8]
</code></pre>
        </div>
    </div>
</div>

<div class="container">
    <div class="mindblown">
        <h3>ðŸ¤¯ The Big Picture</h3>
        <p>
            <strong>Arrow functions are a syntax. Callbacks are a concept.</strong><br>
            They are two different things that work perfectly together. You use the <strong>concept</strong> of callbacks to handle asynchronous tasks, and you use the <strong>syntax</strong> of arrow functions to write those callbacks in the cleanest way possible. Mastering this combination is a huge step toward becoming a proficient JavaScript developer.
        </p>
    </div>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
</body>
</html>
